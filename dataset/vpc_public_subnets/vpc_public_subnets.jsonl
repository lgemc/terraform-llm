{"instance_id": "terraform-aws-vpc-pub-001", "problem_statement": "Create a VPC with CIDR 10.0.0.0/16, enable DNS hostnames, and deploy multiple public subnets across different availability zones. Attach an internet gateway and create a route table with a default route for internet access. Associate all subnets with the route table. Use count or indexing for the subnets.", "difficulty": "medium", "tags": ["vpc", "networking", "subnets", "internet-gateway", "aws"], "provider": "aws", "region": "us-east-1", "expected_resources": {"aws_vpc": 1, "aws_subnet": 2, "aws_internet_gateway": 1, "aws_route_table": 1, "aws_route_table_association": 2}, "required_outputs": ["vpc_id", "subnet_ids"], "validation_script": "dataset/vpc_public_subnets/validation.py", "gold_solution": {"main.tf": "locals {\n  subnet_count = 2\n}\n\nresource \"aws_vpc\" \"main\" {\n  cidr_block           = \"10.0.0.0/16\"\n  enable_dns_hostnames = true\n\n  tags = {\n    Name = \"main-vpc\"\n  }\n}\n\nresource \"aws_subnet\" \"public\" {\n  count             = local.subnet_count\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = cidrsubnet(\"10.0.0.0/16\", 8, count.index + 1)\n  availability_zone = element([\"us-east-1a\", \"us-east-1b\"], count.index)\n\n  tags = {\n    Name = \"public-subnet-${count.index}\"\n  }\n}\n\nresource \"aws_internet_gateway\" \"main\" {\n  vpc_id = aws_vpc.main.id\n}\n\nresource \"aws_route_table\" \"public\" {\n  vpc_id = aws_vpc.main.id\n\n  route {\n    cidr_block = \"0.0.0.0/0\"\n    gateway_id = aws_internet_gateway.main.id\n  }\n\n  tags = {\n    Name = \"public-route-table\"\n  }\n}\n\nresource \"aws_route_table_association\" \"public\" {\n  count          = local.subnet_count\n  subnet_id      = aws_subnet.public[count.index].id\n  route_table_id = aws_route_table.public.id\n}\n\noutput \"vpc_id\" {\n  value = aws_vpc.main.id\n}\n\noutput \"subnet_ids\" {\n  value = aws_subnet.public[*].id\n}\n"}, "hints": ["Use count to create multiple subnets", "enable_dns_hostnames should be true on the VPC", "Internet gateway attaches to the VPC", "Route table needs a 0.0.0.0/0 route to the internet gateway", "Route table associations link each subnet to the route table", "Use tags with Name for all resources"], "metadata": {"estimated_cost": "$0.00", "deployment_time_seconds": 120, "cleanup_required": true, "created_at": "2025-02-25", "author": "iac-eval"}}
