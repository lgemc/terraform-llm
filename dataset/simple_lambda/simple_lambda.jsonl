{"instance_id": "terraform-aws-lambda-001", "problem_statement": "Create an AWS Lambda function named 'hello_world' using the Python 3.12 runtime. A source file already exists at lambda_code/handler.py â€” use data \"archive_file\" to package it into a zip for deployment. The function's handler is handler.handler. The function should have a basic execution role with CloudWatch Logs permissions.", "difficulty": "easy", "tags": ["lambda", "serverless", "aws", "python"], "provider": "aws", "region": "us-east-1", "expected_resources": {"aws_lambda_function": 1, "aws_iam_role": 1, "aws_iam_role_policy_attachment": 1}, "required_outputs": ["lambda_arn", "function_name"], "validation_script": "dataset/simple_lambda/validation.py", "setup_script": "dataset/simple_lambda/setup.sh", "gold_solution": {"main.tf": "data \"archive_file\" \"lambda\" {\n  type        = \"zip\"\n  source_file = \"${path.module}/lambda_code/handler.py\"\n  output_path = \"${path.module}/lambda_code/handler.zip\"\n}\n\nresource \"aws_iam_role\" \"lambda_role\" {\n  name = \"hello_world_lambda_role\"\n  assume_role_policy = jsonencode({\n    Version = \"2012-10-17\"\n    Statement = [{\n      Action = \"sts:AssumeRole\"\n      Effect = \"Allow\"\n      Principal = {\n        Service = \"lambda.amazonaws.com\"\n      }\n    }]\n  })\n}\n\nresource \"aws_iam_role_policy_attachment\" \"lambda_logs\" {\n  role       = aws_iam_role.lambda_role.name\n  policy_arn = \"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole\"\n}\n\nresource \"aws_lambda_function\" \"hello_world\" {\n  filename         = data.archive_file.lambda.output_path\n  source_code_hash = data.archive_file.lambda.output_base64sha256\n  function_name    = \"hello_world\"\n  role             = aws_iam_role.lambda_role.arn\n  handler          = \"handler.handler\"\n  runtime          = \"python3.12\"\n}\n\noutput \"lambda_arn\" {\n  value = aws_lambda_function.hello_world.arn\n}\n\noutput \"function_name\" {\n  value = aws_lambda_function.hello_world.function_name\n}"}, "hints": ["Use data \"archive_file\" to zip lambda_code/handler.py for the Lambda deployment package", "Lambda needs an IAM role with AssumeRole policy for lambda.amazonaws.com", "Attach AWSLambdaBasicExecutionRole for CloudWatch Logs permissions", "Use python3.12 runtime with handler = \"handler.handler\""], "metadata": {"estimated_cost": "$0.00 (free tier eligible)", "deployment_time_seconds": 30, "cleanup_required": true, "created_at": "2024-01-15", "author": "terraform-bench"}}
